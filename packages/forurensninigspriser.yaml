# foruresningspriser:
#   rest:
#     - scan_interval: 600
#       method: GET
#       headers:
#         Content-Type: application/json
#         X-API-KEY: 2CD114509703F6E0A976C32FCB79C4F62966EEC6
#         User-Agent: Drivstoffappen/1.3.8 (com.raskebiler.drivstoff.appen; build:130; iOS 15.2.1) Alamofire/5.4.4
#         Accept-Language: nb-NO;q=1.0, en-GB;q=0.9
#         Accept-Encoding: br;q=1.0, gzip;q=0.9, deflate;q=0.8
#         Connection: keep-alive
#       resource: https://api.drivstoffappen.no/api/stations?stationType=0&countryCode=NO
#       sensor:
#         - name: "Shell Mortensrud"
#           json_attributes_path: "$..[?(@.discountInfo=='Shell Mortensrud')].stationDetails..[?(@.type=='D')]"
#           value_template: "{{ state_attr('sensor.shell_mortensrud', 'price') }}"
#           json_attributes:
#             - "price"
#             - "lastUpdated"
#         - name: "Uno-X Rustad"
#           json_attributes_path: "$..[?(@.discountInfo=='Uno-X Rustad')].stationDetails..[?(@.type=='D')]"
#           value_template: "{{ state_attr('sensor.uno_x_rustad', 'price') }}"
#           json_attributes:
#             - "price"
#             - "lastUpdated"
#         - name: "Circle K Abildsø"
#           json_attributes_path: "$..[?(@.discountInfo=='Circle K Abildsø')].stationDetails..[?(@.type=='D')]"
#           value_template: "{{ state_attr('sensor.circle_k_abildso', 'price') }}"
#           json_attributes:
#             - "price"
#             - "lastUpdated"
#         - name: "Esso Holmlia"
#           json_attributes_path: "$..[?(@.discountInfo=='Esso Holmlia')].stationDetails..[?(@.type=='D')]"
#           value_template: "{{ state_attr('sensor.esso_holmlia', 'price') }}"
#           json_attributes:
#             - "price"
#             - "lastUpdated"
#         - name: "Circle K Kolbotn"
#           json_attributes_path: "$..[?(@.discountInfo=='Circle K Kolbotn')].stationDetails..[?(@.type=='D')]"
#           value_template: "{{ state_attr('sensor.circle_k_kolbotn', 'price') }}"
#           json_attributes:
#             - "price"
#             - "lastUpdated"
#         - name: "Shell-Express Prinsdalen"
#           json_attributes_path: "$..[?(@.discountInfo=='Shell-Express Prinsdalen')].stationDetails..[?(@.type=='D')]"
#           value_template: "{{ state_attr('sensor.shell_express_prinsdalen', 'price') }}"
#           json_attributes:
#             - "price"
#             - "lastUpdated"
#   sensor:
#     - platform: template
#       sensors:
#         shell_mortensrud_last_changed:
#           entity_id: sensor.time
#           value_template: >-
#             {%- set time = (as_timestamp(now()) - (state_attr('sensor.shell_mortensrud', 'lastUpdated') | int  / 1000 )) | int %}
#             {%- set minutes = ((time % 3600) // 60) %}
#             {%- set hours = ((time % 86400) // 3600) %}
#             {%- set days = (time // 86400) %}
#             {% if time <= 60 %}
#             {# mindre eller = 59 sek #}
#               0m
#             {% elif time <= 3600 %}
#             {# mindre eller = 59 min #}
#             {{ minutes }}m
#             {% elif time <= 86400 %}
#             {# mindre eller = 23h och 59 min #}
#             {{ hours }}t
#             {% elif time > 86400 %}
#             {# mer eller = 1 dag #}
#             {{ days }}d
#             {% else %}
#             {% endif %}
#         uno_x_rustad_last_changed:
#           entity_id: sensor.time
#           value_template: >-
#             {%- set time = (as_timestamp(now()) - (state_attr('sensor.uno_x_rustad', 'lastUpdated') | int  / 1000 )) | int %}
#             {%- set minutes = ((time % 3600) // 60) %}
#             {%- set hours = ((time % 86400) // 3600) %}
#             {%- set days = (time // 86400) %}
#             {% if time <= 60 %}
#             {# mindre eller = 59 sek #}
#               0m
#             {% elif time <= 3600 %}
#             {# mindre eller = 59 min #}
#             {{ minutes }}m
#             {% elif time <= 86400 %}
#             {# mindre eller = 23h och 59 min #}
#             {{ hours }}t
#             {% elif time > 86400 %}
#             {# mer eller = 1 dag #}
#             {{ days }}d
#             {% else %}
#             {% endif %}
#         shell_express_prinsdalen_last_changed:
#           entity_id: sensor.time
#           value_template: >-
#             {%- set time = (as_timestamp(now()) - (state_attr('sensor.shell_express_prinsdalen', 'lastUpdated') | int  / 1000 )) | int %}
#             {%- set minutes = ((time % 3600) // 60) %}
#             {%- set hours = ((time % 86400) // 3600) %}
#             {%- set days = (time // 86400) %}
#             {% if time <= 60 %}
#             {# mindre eller = 59 sek #}
#               0m
#             {% elif time <= 3600 %}
#             {# mindre eller = 59 min #}
#             {{ minutes }}m
#             {% elif time <= 86400 %}
#             {# mindre eller = 23h och 59 min #}
#             {{ hours }}t
#             {% elif time > 86400 %}
#             {# mer eller = 1 dag #}
#             {{ days }}d
#             {% else %}
#             {% endif %}
#         circle_k_abildso_last_changed:
#           entity_id: sensor.time
#           value_template: >-
#             {%- set time = (as_timestamp(now()) - (state_attr('sensor.circle_k_abildso', 'lastUpdated') | int  / 1000 )) | int %}
#             {%- set minutes = ((time % 3600) // 60) %}
#             {%- set hours = ((time % 86400) // 3600) %}
#             {%- set days = (time // 86400) %}
#             {% if time <= 60 %}
#             {# mindre eller = 59 sek #}
#               0m
#             {% elif time <= 3600 %}
#             {# mindre eller = 59 min #}
#             {{ minutes }}m
#             {% elif time <= 86400 %}
#             {# mindre eller = 23h och 59 min #}
#             {{ hours }}t
#             {% elif time > 86400 %}
#             {# mer eller = 1 dag #}
#             {{ days }}d
#             {% else %}
#             {% endif %}
#         esso_holmlia_last_changed:
#           entity_id: sensor.time
#           value_template: >-
#             {%- set time = (as_timestamp(now()) - (state_attr('sensor.esso_holmlia', 'lastUpdated') | int  / 1000 )) | int %}
#             {%- set minutes = ((time % 3600) // 60) %}
#             {%- set hours = ((time % 86400) // 3600) %}
#             {%- set days = (time // 86400) %}
#             {% if time <= 60 %}
#             {# mindre eller = 59 sek #}
#               0m
#             {% elif time <= 3600 %}
#             {# mindre eller = 59 min #}
#             {{ minutes }}m
#             {% elif time <= 86400 %}
#             {# mindre eller = 23h och 59 min #}
#             {{ hours }}t
#             {% elif time > 86400 %}
#             {# mer eller = 1 dag #}
#             {{ days }}d
#             {% else %}
#             {% endif %}
#         circle_k_kolbotn_last_changed:
#           entity_id: sensor.time
#           value_template: >-
#             {%- set time = (as_timestamp(now()) - (state_attr('sensor.circle_k_kolbotn', 'lastUpdated') | int  / 1000 )) | int %}
#             {%- set minutes = ((time % 3600) // 60) %}
#             {%- set hours = ((time % 86400) // 3600) %}
#             {%- set days = (time // 86400) %}
#             {% if time <= 60 %}
#             {# mindre eller = 59 sek #}
#               0m
#             {% elif time <= 3600 %}
#             {# mindre eller = 59 min #}
#             {{ minutes }}m
#             {% elif time <= 86400 %}
#             {# mindre eller = 23h och 59 min #}
#             {{ hours }}t
#             {% elif time > 86400 %}
#             {# mer eller = 1 dag #}
#             {{ days }}d
#             {% else %}
#             {% endif %}

#     - platform: statistics
#       name: "Shell Mortensrud History"
#       entity_id: sensor.shell_mortensrud
#       state_characteristic: average_linear
#       sampling_size: 10000
#       max_age:
#         days: 180
#     - platform: statistics
#       name: "Uno-X Rustad History"
#       entity_id: sensor.uno_x_rustad
#       state_characteristic: average_linear
#       sampling_size: 10000
#       max_age:
#         days: 180
#     - platform: statistics
#       name: "Circle K Abildsø History"
#       entity_id: sensor.circle_k_abildso
#       state_characteristic: average_linear
#       sampling_size: 10000
#       max_age:
#         days: 180
#     - platform: statistics
#       name: "Esso Holmlia History"
#       entity_id: sensor.esso_holmlia
#       state_characteristic: average_linear
#       sampling_size: 10000
#       max_age:
#         days: 180
#     - platform: statistics
#       name: "Circle K Kolbotn History"
#       entity_id: sensor.circle_k_kolbotn
#       state_characteristic: average_linear
#       sampling_size: 10000
#       max_age:
#         days: 180
#     - platform: statistics
#       name: "Shell-Express Prinsdalen History"
#       entity_id: sensor.shell_express_prinsdalen
#       state_characteristic: average_linear
#       sampling_size: 10000
#       max_age:
#         days: 180
